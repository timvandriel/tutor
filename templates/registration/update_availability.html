{% extends "base.html" %}
{% load crispy_forms_tags %}
{% block title %}Add hours you're available to tutor{% endblock title %}
{% block content %}
<h2>Update Availability</h2>
<form method="post">{% csrf_token %}
    {{ form|crispy }}
    <button type="submit" class="btn btn-primary">Save</button> 
</form>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const dayFields = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];
        const availableDays = document.querySelectorAll('input[name="available_days"]');
        
        function toggleHourFields() {
            dayFields.forEach(day => {
                const dayField = document.getElementById(`id_${day}_hours`).parentElement;
                if (document.querySelector(`input[name="available_days"][value="${day}"]`).checked) {
                    dayField.style.display = 'block';
                } else {
                    dayField.style.display = 'none';
                }
            });
        }

        availableDays.forEach(day => {
            day.addEventListener('change', toggleHourFields);
        });

        toggleHourFields();  // Initial call to set the correct visibility
    });
</script>
{% endblock content %}